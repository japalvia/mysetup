Vim setup and commands
======================

Loading vimrc
-------------

Reload config without editor restart:
:so $MYVIMRC

Start without loading any vimrc:
vim -u NONE

Start with system defaults only:
vim -u /etc/vimrc


Plugins
-------

List loaded plugins/addons:
:scriptnames

Plugins from AUR:
aurman -S vim-pathogen vim-colors-zenburn-git vim-rust-git

Debian: install most plugins from repo
# apt install vim-scripts
The plugins are not loaded automatically, symlink the useful ones:
$Â ln -s /usr/share/vim-scripts/plugin/minibufexpl.vim ~/.vim/plugin/


Commands
--------

Rename word under cursor, all instances. Alternative to :%s/foo/bar/g when foo
is lenghtly or needs escaping:
- put cursor on word
- press * to search for the next occurrence
- type 'ciw' (change inner word)
- type new word
- press esc
- press n for next occurrence and press . (repeat)
- keep pressing n + .

Search for byte values, e.g. null byte:
/[\x0]

Scrolling:
zt puts current line to top of screen
z. or zz puts current line to center of screen
zb puts current line to bottom of screen

:retab      Convert all existing tabs to spaces

=           Re-indent selection

Indent current line in Insert mode (regardless of cursor position):
C-t

De-indent current line in Insert mode (regardless of cursor position):
C-d

Delete without yanking
<leader> d

Moving around
-------------

^   To the first non-blank character of the line.

C-o Go to the previous location

Windows
-------

C-w c   Close current window but keep buffer open

C-w =   Resize windows after terminal size has changed

Using tags
----------

index recursively the current directory outside vim:
ctags -R .

index using easytags plugin in vim (tags stored ~/.vimtags):
:UpdateTags -R .

jump to tag definition:
Ctrl-]

pop tag (return to previous location):
Ctrl-T

taglist plugin, show tag window:
:TlistToggle

navigate between windows in vim:
Ctrl-[hjkl]


Cscope
-------

Install 'cscope' package
Install pycscope: sudo pip install pycscope

run in source root directory:
cscope -R -b

TODO: document cscope_dynamic usage


MiniBufExplorer
---------------

Switching between buffers:
Ctrl-^              previous buffer
num-ctrl-^          switch to buffer <num>num
Ctrl-hjkl and Tab   move to MBE window and select buffer with cursor


Alternate (a.vim)
-----------------

:A      Open header/source in the same window
:AS     Open header/source in new horizontal split
