Arch Linux howtos
=================

Pacman
------

Multilib:
Find 32-bit packages:
pacman -Sl multilib |grep libstdc++
pacman -S lib32-libstdc++5

Show 'Required by' for a package:
pacman -Sii package

List packages explicitly installed by me (excluding initial base installation):
pacman -Qei | awk '/^Name/ { name=$3 } /^Groups/ { if ( $3 != "base" && $3 != "base-devel" ) { print name } }'

Remove orphaned packages (dependencies not required anymore):
pacman -Rns $(pacman -Qtdq)

Remove package and dependencies that are not needed after the removal:
pacman -Rs

Remove package and cascade removal down the dependers:
pacman -Rsc

Sync signing keys: pacman-key --refresh-keys

Systemd services
----------------

journalctl becomes slow; vacuum and restrict size of stored logs:
# journalctl --vacuum-size=128M
$Â grep SystemMaxUse /etc/systemd/journald.conf
SystemMaxUse=128M

Add your own services to location: /etc/systemd/system/
Reload systemd to read the new service: systemctl daemon-reload

journalctl
----------

Jump to end of journal when opening:
journalctl -e

Managing network
----------------

netctl --help

Restart wifi: systemctl restart netctl@your_network

devmon
------

# pacman -S udevil

Label your disks so they will use the label as mount point when automounted.
Disks must be unmounted.
ext2/3/4:   # e2label /dev/sdb9 lacie_o
xfs:        # xfs_admin -L lacie_data /dev/sdb2

Show labels:
# lsblk -o name,mountpoint,label,size,uuid
